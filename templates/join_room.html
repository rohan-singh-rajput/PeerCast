<!-- videoroom/templates/videoroom/room.html -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ room.name }}</title>
</head>
<body>
    <h1>{{ room.name }} - Video Room</h1>
    <video id="videoPlayer" controls>
        <source src="{{ videos.first.video_url }}" type="application/x-mpegURL">
    </video>

    <h2>Chat</h2>
    <div id="chatBox">
        {% for message in chat_messages %}
            <p><strong>{{ message.user.username }}:</strong> {{ message.message }}</p>
        {% endfor %}
    </div>

    <form method="post" action="{% url 'videoroom:send-message' room.id %}">
        {% csrf_token %}
        <textarea name="message" required></textarea>
        <button type="submit">Send</button>
    </form>

    <h3>Upload a new video</h3>
    <form action="{% url 'videoroom:video-upload' room.id %}" method="POST" enctype="multipart/form-data">
        {% csrf_token %}
        <input type="file" name="file" required>
        <button type="submit">Upload Video</button>
    </form>
</body>
</html>
